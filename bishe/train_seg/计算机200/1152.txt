日月 光华   - -   Internet 精华区 文章 阅读 
 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
   发信人 :   Rosan   ( 冰 ) ,   信 区 :   Internet 
 标     题 :   网站 浏览 安全 
 发信站 :   日月 光华 站   ( Fri   Apr   13   09 : 17 : 54   2001 )   ,   站 内 信件 
 
                                                 ◇ … … 网站 浏览 安全 细细 谈 
 　 　 原作者 :   罗务宏 
         摘自 ： 比特 网 - 电脑软件   第 47 期 
 
 　 　 Web 欺骗 是 一种 具有 相当 危险性 且 不易 被 察觉 的 黑客攻击 手法 ， 一般 意义 上 讲 ， 也 就 
 是 针对 浏览 网页 的 个人用户 进行 欺骗 ， 非法 获取 或者 破坏 个人用户 的 隐私 和 数据资料 。 
 它 危及 到 普通 Web 浏览器 用户 ， 包括 Netscape   Navigator 用户 和 Microsoft   Internet   Ex 
 plorer 用户 。 
 
 　 　 一 、 欺骗 手法 
 　 　 攻击者 如果 想 进行 Web 欺骗 就 ， 离不开 Web 服务器 的 支持 ， 所以 绝大多数 情况 下 ， 他 
 们 在 受 攻击者 和 Web 服务器之间 设立 起 攻击者 自己 的 Web 服务器 ， 这种 攻击 种类 在 安全 问 
 题中 称为 “ 来自 中间 的 攻击 ” 。 用户 浏览器 和 真正 的 服务器之间 的 数据交换 并非 是 直接 
 的 ， 会 被 攻击者 的 服务器 截获 并 处理 。 利用 中间 服务器进行 行骗 ， 就 像 罪犯 驾驶 着 盗窃 
 来 的 警车 去 “ 执行公务 ” ， 因此 相当 隐蔽 。 对于 被 攻击 用户 ， 几乎 是 不知不觉 的 ， 因为 
 他们 仍然 可以 自由 登录 、 链接 到 该 网站 的 所有 页面 。 对于 攻击者 而言 ， 在 偷偷 监视 截取 
 信息 的 同时 ， 也 能 以 受 攻击者 的 名义 发送数据 到 真正 的 Web 服务器 ， 包括 以 服务器 的 名义 
 发送数据 给 受 攻击者 。 
 　 　 当 用户 访问 某个 这样 的 站点 并 进行 合理 的 活动 时 ， 可能 面对 的 并 不是 真实 的 目标 网 
 站 ， 而 只是 一个 攻击者 营造 的 真实 站点 的 翻版 ， 或者说 虚拟 的 镜像 ， 它们 之间 如此 雷同 
 并 不会 让 我们 感到 潜在 的 威胁 ， 而 此时 你 的 所有 注册 信息 和 登录 账号 口令 ， 甚至 一切 活 
 动 ， 就 源源不断 地 从 这个 镜像 的 入口 进入 到 攻击者 控制 着 的 Web 服务器 。 攻击者 可以 监视 
 、 记录 、 修改 所有 信息 并 进行 破坏活动 。 
 　 　 例如 ， 在线 填写 表单 时 ， 填入 表单 的 用户 密码 账号 等 信息 将 被 获取 ， 从而 泄密 。 在 
 访问 网上银行 时 ， 你 可能 根据 你 所 见 的 银行 Web 页面 ， 从 该行 的 账户 中 提取 或 存入 一定 数 
 量 的 存款 。 因为 你 相信 你 所 访问 的 Web 页面 就是 你 所 需要 的 银行 的 Web 页面 。 无论是 页面 
 的 外观 布局 、 图片 标识 、 链接 地址 ， 文字 内容 还是 其它 一些 相关 内容 ， 都 让 你 感到 非常 
 熟悉 ， 没有 理由 不 相信 。 但是 ， 你 确实 是 处在 攻击者 建立 的 伪造 页面 中 。 
 
 　 　 二 、 实施 过程 
 　 　 1 . 诱使 用户 进入 攻击者 控制 的 中间 服务器 
 　 　 攻击者 在 Web 服务器 需要 提供 关于 某个 Web 站点 的 错误 Web 页面 时 ， 他 只 需要 在 自己 的 
 服务器 上 建立 一个 该 站点 的 拷贝 ， 而 不必 存储 整个 真实 服务器 站点 的 内容 ， 然后 改写 这 
 个 拷贝 中 所有 的 链接 获得 真实 服务器 上 的 所有 页面 镜像 。 
 　 　 首先 ， 攻击者 改写 拷贝 中 所有 链接 地址 ( URL ) ， 使 它们 指向 了 攻击者 的 服务器 而 不是 
 真正 的 服务器 。 假定 攻击者 所处 的 Web 服务器 是 www . ? ? ? . com ， 攻击者 通过 在 所有 链接 前 
 增加 www . ? ? ? . com 来 改写 URL 。 例如 ， abc . efg . com 将 变为 www . ? ? ? . com /   abc . efg . com 。 当 
 用户 点击 改写 过 的 abc . efg . com ， 进入 的确 是 ： www . ? ? ? . com ， 然后 由该 中间 服务器 向 ab 
 c . efg . com 发出请求 并 获得 真正 的 文档 ， 然后 改写 文档 中 的 所有 链接 ， 最后 经过 http : / / 
 www . ? ? ? . com 返回 给 用户 的 浏览器 。 
 　 　 可见 ， 用户 通过 改写 后 的 链接 登录 目标 站点 时 ， 实际上 先是 经由 中间 服务器 ， 然后 
 才 向 目标 服务器 请求 文档 ， 而 目标 服务器返回 的 文档 必须 经由 中间 服务器 ， 改写 所有 链 
 接后 才 传回 给 用户 浏览器 。 很 显然 ， 修改 过 的 文档 中 的 所有 URL 都 指向 了 www . ? ? ? . com ， 
 当 用户 点击 任何 一个 链接 都 会 直接 进入 这个 页面 ， 而 不会 直接 进入 真正 的 网站 。 只要 用 
 户 由此 进入 其它 网页 ， 那么 他们 是 永远 不会 摆脱 掉 受 攻击 的 可能 的 。 
 　 　 伪造 网页 中 的 表单 ， 如果 被 填写 就 构成 了 表单 欺骗 ， 同样 神不知鬼不觉 。 表单 的确 
 定 信息 被 编码 到 链接 地址 行中 ， 内容 会以 HTML 形式 返回 。 前面 讲 到 ， 所有 页面 的 URL 都 已 
 经 被 改写 ， 那么 表单 欺骗 将 是 很 自然 的 事情 了 。 
 　 　 当受 攻击者 提交 表单 后 ， 所 提交 的 数据 进入 了 攻击者 的 服务器 。 攻击者 的 服务器 能 
 够 观察 ， 甚至 是 修改 所 提交 的 数据 。 同样 地 ， 在 得到 真正 的 服务器返回 信息 后 ， 攻击者 
 将 向 受 攻击者 返回 信息 。 
 
 　 　 2 . 发布 欺骗 页 
 　 　 Web 攻击者 必须 设法 引诱 用户 去 访问 并 点击 他 设定 的 Web 陷阱 ， 黑客 往往 使用 下面 几 
 种 方法 ： 
 　 　 ( 1 ) 把 错误 的 Web 链接 放到 一个 热门 Web 站点 上 ； 
 　 　 ( 2 ) 如果 受 攻击者 使用 基于 HTML 的 邮件 ， 通过 电子邮件发送 伪造 的 Web 页面 给 用户 ； 
 
 　 　 ( 3 ) 创建 错误 的 Web 索引 ， 指示 给 搜索引擎 ； 
 　 　 ( 4 ) 在 网络 公众 场合 ， 如 BBS 、 OICQ ， 论坛 或 聊天室 散播 包含 错误 链接 的 网站 网址 。 
 
 　 　 三 、 如何 防范 
 
 　 　 1 . 对于 个人用户 
 　 　 ( 1 ) 查看 源文件 
 　 　 攻击者 并 不是 不留 丝毫 痕迹 ， HTML 源文件 会 使 这种 欺骗 暴露无遗 。 通过 点击 鼠标 右 
 键 或者 在 浏览器 中 点击 菜单 “ 查看 ” 唷 霸次 募 ” ， 用户 可以 阅读 当前 的 HTML 源文件 。 
 可以 发现 当前页 URL 地址 的 信息 并 同 网页 上 的 真实 地址 相对 照 ， 你 能够 发现 被 改写 的 URL 
 ， 因此 可以 觉察到 危险 。 
 　 　 例如 ， 你 收到 一封 263 邮局 的 HTML 格式 信件 ， 查看 源文件 ， 根据 前面 的 介绍 ， 很 容易 
 发现 是否 有 伪造 的 痕迹 。 
 　 　 因此 ， 建议 不要 通过 来历不明 的 Web 站点 登录 安全 站点 ， 如 通过 某个 个人 站点 登录 2 
 63 服务器 。 对于 搜索引擎 或 从 其它 场合 得到 的 站点 ， 应 仔细 甄别 ， 防止 受骗 。 
 　 　 ( 2 ) 禁止 浏览器 中 的 JavaScript 功能 
 　 　 各类 攻击者 的 服务器 ， 页面 都 包含 大量 的 JavaScript 脚本 以 实现 其 不可告人 的 目的 
 ， 此时 可 将 JavaScript 功能 禁止 或者 改为 使用 前 提示 。 
 　 　 方法 是 ： 在 IE 浏览器 中 ， 点击 菜单 “ 工具 ” 唷 Internet 选项 ” ， 切换 到 “ 安全 ” 
 选项卡 唷 白远 ㄒ 寮 侗稹 保弹 出 “ 安全 设置 ” 框 ， 在 里面 对 JavaScript 功能 选择 “ 禁止 
 ” 。 
 　 　 ( 3 ) 确保 浏览器 的 连接 提示 状态 可见 ， 它会 给 你 提供 当前 位置 的 各类 信息 ； 
 　 　 ( 4 ) 仔细观察 你 所 点击 的 URL 链接 ， 一般 会 在 状态栏 中 或 地址栏 得到 正确 的 显示 。 
 
 　 　 2 . 对于 服务器 
 　 　 个人用户 对于 服务器端 是 无能为力 的 ， 此处 我们 仅 给 大家 提供 一些 服务器端 安全 预 
 防 措施 ， 希望 会 给 个人 站点 的 管理者 一些 有益 的 提示 。 
 　 　 Web 服务器端 安全 预防措施 ： 限制 在 Web 服务器 开 账户 ， 定期 删除 一些 久 不 登录 的 用 
 户 ； 对 在 Web 服务器 上开 的 账户 ， 对 注册 用户 口令 长度 作出 要求 并 提示 定期 更改 ， 防止 被 
 盗用 造成 隐患 ； 尽量 使 Ftp ,   Mail 等 服务器 与 Web 服务器 分开 ； 定期 查看 服务器 中 的 日志 
 文件 ， 分析 一切 可疑 事件 ； 设置 好 Web 服务器 上 系统文件 的 权限 和 属性 ； 不要 把 Web 服务 
 器 与 FTP 目录 指在 同一 目录 ； 必要 时 限制 访问 用户 IP 或 DNS ； 如果 采用 CGI 程序 ， 应 放在 独 
 立于 HTML 存放 目录 之外 的 CGI - BIN 下 ； 在 用 C 来 编写 CGI 程序 时 尽量少 用 popen ( ) 、 system 
 ( ) 和 所有 涉及 / bin / sh 的 shell 命令 。 
 　 　 此外 ， 编译语言 ( CGI 、 PERL 等 ) 比 解释 语言 ( PHP 、 JSP 等 ) 更 安全 。 至于 许多 Web 服务 
 器 本身 都 存在 的 一些 安全漏洞 ， 不是 本文 探讨 的 范畴 ， 有 兴趣 的 读者 可 参阅 相关 资料 。 
 
 
 - - 
 ※   来源 : ・ 日月 光华 站   bbs . fudan . edu . cn ・ [ FROM :   10.76 . 120.1 ] 
 
   
 
 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
 [ 返回 上 一页 ]   [ 本 讨论区 ]