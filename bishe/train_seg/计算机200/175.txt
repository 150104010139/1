曙光 超级服务器 的 研制 
 
 国家 智能 计算机 研究 开发 中心 （ 简称 智能 中心 ） 是 为 实现 国家 高技术 计划 而 组建 的 研究 开发 实体 ， 其 宗旨 是 发展 计算机 高技术 ， 实现 高性能 计算机 产业化 ， 主要 从事 高性能 计算机 和 超级服务器 的 研究 与 开发 。   
 
 智能 中心 从 成立 至今 已 先后 研制开发 出 了 曙光 一号 全 对称 多处理机系统 ， 曙光 1000 大规模 并行 计算机系统 ， 曙光 2000 - I 大规模 并行 计算机系统 ， 曙光 2000 - II 大规模 并行 计算机系统 ， 曙光 天罗天联 系统 ， 曙光 NT 机群系统 ， 曙光 高 可用 系统 等 一批 高技术 成果 。 其中 曙光 一号 获 1994 年 中国科学院 科技进步 特等奖 ， 1995 年 国家科技进步奖 二等奖 ， 并 被 写入 94 年 全国人大 政府 工作 报告 ； 曙光 1000 大规模 并行 计算机系统 ， 获 1996 年 中国科学院 科技 进步奖 特等奖 ， 1997 年 国家科技进步奖 一等奖 。   
 
 目前 ， 智能 中心 拥有 科研人员 50 多人 ， 主要 承担 国家 863 重大项目 曙光 3000 的 研制 任务 ， 同时 从事 曙光 系列产品 的 产品化 工作 。   
 
 曙光 1000 大规模 并行 计算机系统 
 
 
 曙光 1000 大规模 并行 计算机系统 ( 以下 简称 曙光 1000 ) 是 国家 863 高技术 计划 取得 的 重大成果 。 它于 1995 年 5 月 通过 了 由 国家科委 组织 的 国家级 鉴定 。 曙光 1000 是 继 曙光 一号 计算机 以后 我国 高性能 计算机 方面 的 又 一 里程碑 ， 是 当时 国内 研制 的 最高 水平 的 计算机系统 。 它 突破 了 一大批 大规模 并行处理 ( MPP ) 的 关键技术 ， 使 中国 成为 世界 上 少数几个 能 研制 和 生产 大规模 并行 计算机系统 的 国家 之一 。 曙光 1000 在 整体 上 达到 了 九十年代 前期 的 国际 先进 水平 ， 某些 技术 达到 了 当时 的 国际 领先水平 。 曙光 1000 的 研制成功 不但 具有 重大 的 学术 价值 ， 而且 产生 了 巨大 的 社会 和 经济效益 。 主要 技术指标 ：   
 
 浮点 峰值 计算速度 为 ： 单精度 每秒 25.6 亿次 ， 双 精度 每秒 19.2 亿次 。 实际 运算 速度 已达 每秒 15.8 亿次 。   
 内存容量 ： 1024 兆 字节 ； 磁盘 容量 ： 5GB ~ 50GB 。   
 结点 机 36 个 ， 可 扩充 到 72 ， 144 ， 甚至 更 多 结点 。   
 采用 基于 蛀洞 ( Wormhole ) 机制 的 2D - Mesh 通讯网 ， 网络 总 通讯 容量 为 4.8 GB / S   
 结点 机与 网络 的 通讯 总 带宽 ： 2.8 GB / S 。 支持 C 、 C++ 和 Fortran ， 提供 并行 优化 重构 工具 PORT 、 程序 自动 并行 化 工具 AutoPar 、 并行 用户 程序运行 动态 监视 和 分析 工具   ParaVision ， 以及 结点 内 源码 级 和 目标 码级 优化 工具 。   
 基于 UNIX 的 并行 分布式 操作系统 。   
 提供 并行 编程 和 运行 环境 EXPRESS 、 PVM 、 MPI 、 NX 和 P4 。   
 并行 程序调试 环境 NDB ( 源码 级 ) 和 ADB ( 汇编 级 ) 。   
 多媒体 联机 教学 与 帮助 系统 。   
 部分 应用软件 。 包括 并行 数值 天气预报 软件 和 石油 地震 数据处理 软件 。 所有 系统软件 和 用户 环境 均 采用 国际标准 。   
 曙光 2000 - II 超级服务器   
 
 曙光 2000 - II 系统 是 国家 863 计划 和 中国科学院 知识 创新 工程 的 重大成果 ， 于 2000 年 1 月 通过 了 国家 科学技术部 主持 的 国家级 鉴定 。 经过 近半年 的 产品化 开发 ， 已 形成 了 正式 产品 。 第一套 系统 于 2000 年 6 月 正式 落户 中国科学院 网络信息中心 ， 用于 大规模 科学计算 和 网络 信息 服务 。 该 系统 在 整体 上 已 达到 90 年代 末期 的 国际 先进 水平 ， 有些 方面 ， 如 机群 操作系统 、 集成化 并行 编程 环境 、 并行 数学 库函数 和 服务器 聚集 软件 等 已 达到 当前 国际 领先水平 。 在 可扩展性 、 易用性 、 可管理性 和 可用性 方面 ， 在 系统 的 高性能 和 通用性 相 统一 方面 ， 在 机群 操作系统 、 单一 系统 映象 技术 和 硬件 监控 技术 方面 有 自己 的 特色 和 创新 ； 该 系统 既 可 用于 科学 工程 计算 ， 又 可 用作 事务处理 和 网络 信息 服务 ， 是 一个 产品化 的 超级服务器 系统 ， 具有 很 好 的 应用 前景 。   
 
 一 ． 系统 简介   
 曙光 2000 - II 系统 峰值 浮点运算 速度 达到 每秒 1117 亿次 ， 内存 总 容量 达到 50GB ， 磁盘 总 容量 达到 600GB （ 可 扩充 到 几个 TB ） ， 其中 ， 内置 硬盘容量 达到 439GB ， 共享 磁盘 （ 包括 盘阵 ） 容量 为 223GB 。 它 是 一种 典型 的 分布式 并行 计算机系统 ， 具有 先进 的 机群 体系结构 。 它 由 82 台 节点计算机 组成 ， 每台 节点计算机 包含 2 个 处理机 ， 共 164 个 处理机 。 其中 ， 薄 节点机 64 台 ， 厚 节点机 8 台 ， 高性能 节点机 8 台 ， 服务 节点机 2 台 。 每台 节点机 包含 2 个 PowerPC 或 Power   3 处理器 芯片 ， 512MB 或 1GB 内存 ， 以及 4.5 GB 或 9GB 的 内置 硬盘 。 系统 包含 一个 178GB 的 外置 盘阵 和 一个 45GB 的 内置 盘阵 。 有 三套 连接 网络 ： 一套 80 端口 的 高速 专用 Myrinet 网 ， 一套 96 端口 的 100MB 外部 以太网 ( 含 4 个 1GB 端口 ) ， 以及 一套 16 端口 的 外部 以太网 。 另有 一个 控制台 节点 ， 一个 约 200GB 高速 磁盘阵列 ， 一个 硬件 监控器 。 曙光 2000 - II 具有 丰富 而 完善 的 系统软件 ， 包括 通信 子系统 ， 系统 管理子系统 ， 资源 管理子系统 ， 作业 管理子系统 ， 机群文件 子系统 。 节点 操作系统 为 AIX4.3 ／ 4.2 . 1 。 系统 配有 流行 的 C 、 Fortran 和 Java 编译器 。 其 并行 编程 环境 有 PVM 和 MPI ， 串行 程序 自动 并行 化 工具 ， 并行程序 监测 工具 和 并行 数学 库函数 。 它 支持 流行 的 数据库 Oracle / DB2 等 。 为 支持 网络 信息 服务 ， 它 有 并行 Web 服务 和 E - mail 服务 系统 。 它 有 服务器 聚集 软件 。 此外 ， 还有 包括 气象 、 石油 、 核能 和 基础科学 研究 等 行业 领域 在内 的 一大批 行业 应用软件 。   
 
 二 ． 曙光 2000 - II 的 技术 特点   
 1 ． 突出 的 SUMA 特色 ：   Scalability ， 可扩展性 ， 曙光 2000 - II 包含 160 多个 CPU ， 且 有 很 高 的 系统 效率 。   Usability ， 易用性 ， 先进 的 技术 使 曙光 2000 - lI 象 单机 一样 好用 。   Manageability ， 可管理性 ， 系统 易于 管理 和 控制 。   Availability ， 可用性 ， 系统 稳定 可靠 ， 部件 出错 时 系统 仍能 提供 服务 ， 有 故障 监测 及 自动 ／ 手动 修复 措施 。   
 2 ． 单一 系统 映像 ( 单一 登录 点 ， 单一 控制点 ， 单一 文件系统 等 ) 使 系统 很 好 管理 和 使用 。   
 3 ． 高性能 与 通用性 的 和谐 统一 ：   先进 的 机群 体系结构 ， 每个 节点机 是 一台 相对 独立 的 机器 。   平衡 的 系统 设计 使 节点机 间通信 、 I ／ O 能力 等 方面 没有 瓶颈 。   硬件 配置 的 丰富性 与 灵活性 能 满足 各种 应用 需求 。   功能强大 效率高 的 系统软件 ， 多种 编程 工具 ， 各种 中间件 、 库函数 和 网络 信息 服务 软件 使 用户 能 各取所需 。   服务器 聚集 方式 使 一套 系统 同时 执行 多种 服务 。   广泛 采用 国际标准 和 主流 技术 使 曙光 2000 - II 能 运行 世界 上 积累 的 上万种 应用软件 。   
 
 三 ． 应用 范围   
 1 ．   可 在 下列 地点 做主 服务器 ： 计算中心 、 网络 中心 、 信息中心 、 数据中心 、 清算 中心 、 结算 中心 、 处理 中心 、 监控 中心 、 交换 中心 等 。   
 2 ．   可 应用 于 下列 行业 领域 ： 石油 ， 气象 ， 水利水电 ， 地质勘探 ， 地震预报 ， 环境监测 与 分析 ， 机械设计 与 模拟 （ 汽车 、 飞机 、 船舶 等 ） ， 基础科学 计算 （ 量子化学 、 材料科学 、 理论 与 高能物理 、 流体力学 、 DNA 与 基因 分析 、 天体 物理 等 ） ， 信号 与 图像处理 ， 事务处理 （ 银行 、 证券 、 保险 等 ） ， 网络 信息 服务 等 。   
 
 曙光 3000 超级服务器 
 
 正在 研制 的 曙光 3000 将 是 一套 通用 超级服务器 系统 ， 其 峰值 浮点 速度 将 达到 每秒 3000 亿次 以上 。 它 支持 科学 工程 计算 、 事务处理 和 网络 信息 服务 。 该 系统 与 主流 商品化 平台 和 部件 兼容 ， 具有 可扩展性 、 安全性 、 好用性 、 易管理性 、 高可用性 。 主要 技术指标 ：   
 
 峰值 计算速度 ：   浮点运算 每秒 3000 亿次 以上   
 处理机 数 ：   264   
 内存 总 容量 ：   160GB   
 磁盘 总 容量 ：   3TB   
 互联网络 ：   高速 以太网 、 高速 专用网 （ 总 通信 带宽 为 50GB / s ）   
 机群 操作系统 ：   系统管理 、 资源管理 、 作业管理 、 机群文件 系统 等   
 程序语言 ：   C / C++ ， Fortran ， Java   
 集成式 并行 编程 环境 ： PVM 、 MPI 、 ParaVT 和 Autopar 等   
 网络 信息 服务平台 ： Web   Server 、 E - mail 、 DNS 、 FTP 等   
 数学 库函数 ： BLAS 、 BLACS 等 ， 运行 ESSL 、 PESSL 等 ，   支持 DB2 、 Oracle 等 流行 数据库 服务器 聚集 软件   
 一批 应用软件 ： 量子化学 、 材料科学 、 高能物理 、 气候 模式   和 天气 动力学 等 （ 主要 由 用户 开发 ）   
 曙光 NT 机群系统   
 
 曙光 NT 机群系统 使用 并行处理技术 拓展 了 应用 的 范围 。 由于 它 的 设计 考虑 到 性能 和 可扩展性 ， 系统 可以 处理 具有 大规模 数据处理 和 计算 密集 特征 的 应用 。 曙光 NT 机群 的 市场 定位 是 ， 位于 SMP 和 UNIX 超级服务器 之间 ， 可以 取代 高端 SMP 服务器 和 低端 的 UNIX 超级服务器 。 曙光 NT 机群系统 为 解决 大型 复杂 的 技术 和 商业 应用 提供 解决方案 。 用户 可 运行 多种 应用 ： 计算 流体 动力学 、 数值 分析 、 数据 采集 和 决策 支持 、 网络服务 、 LAN 服务器 聚集 和 联机 事务处理 。   
 
 曙光 NT 机群系统 能够 利用 多个 基于 Intel   PII 微处理器 的 节点 来 并行处理 单个 计算 问题 。 这种 并行处理技术 可 将 计算 性能 和 吞吐量 提高 到 串行 计算 的 许多倍 。 除了 提高 已有 应用 的 性能 外 ， 系统 还 使得 诸如 复杂 数据 采集 、 气候 模拟 等 新 应用 成为 可能 。   
 
 曙光 NT 机群系统 的 基本 构造 块 是 SMP 计算 节点 。 它 由 一至 两个 Intel   PII   微处理器 、 存贮器 、 PCI 扩展槽 （ 用于 I / O 和 互连 ） 、 和 内置 磁盘 组成 。 Intel   PII 微处理器 （ 300 / 333 / 400MHZ 、 400MHZ   Xeon ） 是 一种 创新 产品 ， 它 带来 了 突出 的 性能 及 性能 价格比 。 节点 类型 在 单个 系统 中 可以 是 混 和 的 ， 每个 节点 放在 一个 抽屉 状 的 专门 机箱 内 。 这些 小 机箱 可 被 连 结成 多达 16 节点 的 系统 。   每个 系统 机柜 最 多 可以 有 8 个 节点 。 每个 曙光 NT 机群 节点 是 由 一个 完整 的 Microsoft   Windows   NT4.0 企业 版 操作系统 进行 管理 ， 能为 成千上万 个 当前 可用 的 NT 应用 提供 接口 。 除此之外 ， 系统 可 被 分区 为 多个 节点 池 。 例如 ， 两个 节点 可 被 用作 一个 Lotus   Notes   Domino   服务器 ， 同时 另外 六个 节点 可 被 用于 天气预报 。   
 
 曙光 NT 机群系统 通过 冗余 的 系统 部件 提供 高可用性 支持 ， 如多 节点 、 两个 Ethernet 网络 、 RAI D盘 阵 。 此外 ， 它 还 支持 NT 高 可用 软件 （ Wolfpack 或 Dataware ） ，   用于 支持 重要 的 应用 备份 和 高可用性 。 例如 ： 当 某个 节点 出现 故障 ， 系统 执行 一个 恢复 文本 ， 它 将 当前工作 移到 另 一个 节点 上 ， 并 保证 应用 的 继续执行 。 有效 的 并行计算 技术 需要 高带宽 、 低 延迟 的 节点 间 通讯 。 采用 千兆 位 以太网交换机 ， 使得 单通道 单向 数据传输 能力 高达 1000Mb / 秒 。 曙光 NT 机群系统 几乎 可以 线性 地 扩展 处理器 数 和 存贮 容量 ， 这种 技术 使得 TB 级 （ 1012 ） 数据处理 成为 可能 ， 并且 使得 扩充 和 升级 更加 容易 管理 。 如果 用户 扩展 现有 系统 ， 那么 它 的 计算能力 也 随之 相应 提高 。 大规模 系统 的 管理 一直 是 个 复杂 的 过程 。 对于 曙光 NT 机群系统 来说 ， 一个 图形操作 控制台 可以 显示 硬件 、 软件 、 作业 和 用户 的 状态 ， 这样一来 ， 管理 就 显得 简单 得 多 。 系统管理员 使用 该 控制台 - - 一台 曙光 天阔 II225R 型 服务器 和 NT 机群系统 管理系统 （ DNC ） 软件产品 进行 系统管理 ， 例如 用户 和 口令 管理 、 作业 的 记帐 、 网络管理 、 以及 系统 的 启动 / 关闭 ， 系统监控 等等 。   
 
 曙光 NT 机群系统 提供 了 PVM 和 MPI 并行程序 设计 环境 、 可 支持 大量 现有 的 并行程序 。 此外 ， 曙光 NT 机群系统 提供 了 一系列 广泛 的 Microsoft   NT 兼容 的 开放 的 软件工具 ， 来 支持 管理 和 操作 ， 包括 Microsoft 的 C 和 Fortran 编辑器 ， SQL   Server 、 Oracle 、 DB2 数据库 ， Oracle   8 、 DB2   UDB   EEE   v5.2 并行 数据库 ， IE 、 Netscape 、   曙光 天 联网络 套件 ， ISI 公司 的 ClementineData   Mining   System 数据挖掘 软件 ， Cluster   Domino   Server   4.5 等 。 曙光 公司 将 它 在 大规模 并行计算 方面 的 经验 应用 于 曙光 NT 机群系统 的 设计 上 ， 提供 了 大规模 系统 的 用户 所 期望 的 灵活 的 、 开放式 解决方案 的 能力 。